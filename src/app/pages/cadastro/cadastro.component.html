<div class="principal">
    <div class="img">
        <img src="carrosFord.png" alt="Imagem Ford" />
    </div>

    <div class="container-right">
        <div class="cadastro-container">

            <div class="cadastro-logo">
                <img src="ford.png" alt="Ford Logo" />
            </div>

            <form class="cadastro-form" #cadastroForm="ngForm" (ngSubmit)="cadastrar(cadastroForm)">

                <h2 class="cadastro-title">Criar Conta</h2>

                <!-- NOME -->
                <mat-form-field class="form-field">
                    <mat-label>Nome completo</mat-label>
                    <input aria-label="NomeCompleto" matInput type="text" name="nome" required
                        [(ngModel)]="novoUsuario.nome" #nome="ngModel" />

                    <mat-error class="error-geral" class="error-geral" *ngIf="nome.invalid && nome.touched">
                        O nome completo é obrigatório
                    </mat-error>
                </mat-form-field>

                <!-- EMAIL -->
                <mat-form-field class="form-field">
                    <mat-label>E-mail</mat-label>
                    <input aria-label="Email" matInput type="email" name="email" required email
                        [(ngModel)]="novoUsuario.email" #email="ngModel" />

                    <mat-error class="error-geral" *ngIf="email.errors?.['required'] && email.touched">
                        O e-mail é obrigatório
                    </mat-error>

                    <mat-error class="error-geral" *ngIf="email.errors?.['email'] && email.touched">
                        E-mail inválido
                    </mat-error>
                </mat-form-field>

                <!-- SENHA -->
                <mat-form-field class="form-field">
                    <mat-label>Senha</mat-label>
                    <input aria-label="Senha" matInput type="password" name="senha" required minlength="6"
                        [(ngModel)]="novoUsuario.senha" #senha="ngModel" />

                    <mat-error class="error-geral" *ngIf="senha.errors?.['required'] && senha.touched">
                        A senha é obrigatória
                    </mat-error>

                    <mat-error class="error-geral" *ngIf="senha.errors?.['minlength'] && senha.touched">
                        A senha deve ter no mínimo 6 caracteres
                    </mat-error>
                </mat-form-field>

                <!-- CONFIRMAÇÃO DE SENHA -->
                <mat-form-field class="form-field">
                    <mat-label>Confirmar senha</mat-label>
                    <input aria-label="ConfirmarSenha" matInput type="password" name="confirmarSenha" required
                        [(ngModel)]="novoUsuario.confirmarSenha" #confirmarSenha="ngModel"
                        (ngModelChange)="validarSenhas(confirmarSenha)" />

                    <mat-error class="error-geral" *ngIf="
    confirmarSenha.errors?.['required'] &&
    confirmarSenha.touched
  ">
                        Confirme sua senha
                    </mat-error>

                    <!-- ERRO: SENHAS DIFERENTES -->
                    <mat-error class="error-geral" *ngIf="
    confirmarSenha.errors?.['senhaDiferente'] &&
    confirmarSenha.touched
  ">
                        As senhas não coincidem
                    </mat-error>
                </mat-form-field>

                <!-- LGPD -->
                <div class="lgpd-text">
                    Os seus dados serão utilizados apenas para criação da conta e personalização da sua experiência.
                    Ficarão armazenados somente enquanto você desejar manter seu cadastro.
                    Você pode editar ou excluir seus dados a qualquer momento.
                    Consulte nossos
                    <a target="_blank" rel="noopener" href="https://www.ford.com.br/politica-de-privacidade/">Termos e
                        Condições</a>.
                </div>

                <div class="lgpd-check">
                    <input type="checkbox" id="checkLGPD" required [(ngModel)]="novoUsuario.aceitouLGPD" name="lgpd"
                        #lgpd="ngModel" />
                    <label for="checkLGPD">Li e aceito os Termos e Condições</label>
                </div>

                <p class="error-geral" *ngIf="lgpd.invalid && lgpd.touched">
                    Você precisa aceitar os Termos e Condições
                </p>

                <p class="error-geral" *ngIf="formInvalido && cadastroForm.invalid">
                    Preencha todos os campos obrigatórios
                </p>
                <button mat-flat-button class="btn-cadastro" type="submit">
                    Cadastrar
                </button>

                <div class="login-voltar">
                    <p>Já possui conta?
                        <a routerLink="/login">Entrar</a>
                    </p>
                </div>

            </form>

            <div class="copyright">
                <p>&copy; Ford 2025 — Todos os direitos reservados</p>
            </div>

        </div>
    </div>
</div>